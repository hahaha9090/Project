{% extends "booking/base_auth.html" %}

{% block content %}
<div class="login-container">
    <div class="login-header">
        <h2><i class="fas fa-user-circle"></i> 用户登录</h2>
        <p>高校会议室预约管理系统</p>
    </div>
    
    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        
        {% if form.errors %}
            <div class="error-message">
                <i class="fas fa-exclamation-circle"></i> 用户名或密码不正确
            </div>
        {% endif %}
        
        <div class="form-group">
            <label for="id_username">用户名</label>
            <div class="input-group">
                <i class="fas fa-user"></i>
                <input type="text" name="username" autofocus required id="id_username" placeholder="请输入用户名">
            </div>
        </div>
        
        <div class="form-group">
            <label for="id_password">密码</label>
            <div class="input-group">
                <i class="fas fa-lock"></i>
                <input type="password" name="password" required id="id_password" placeholder="请输入密码">
            </div>
        </div>
        
        <div class="form-group">
            <label for="id_role">登录身份</label>
            <div class="input-group">
                <i class="fas fa-users-cog"></i>
                <select name="role" id="id_role" class="form-control" style="width: 100%; padding: 12px 15px 12px 40px; border: 1px solid #ddd; border-radius: 8px;">
                    <option value="student">学生</option>
                    <option value="teacher">教师</option>
                    <option value="admin">管理员</option>
                </select>
            </div>
        </div>

        <button type="submit" class="btn-login">
            登录 <i class="fas fa-arrow-right"></i>
        </button>
        
        <input type="hidden" name="next" value="{{ next|default:'/' }}" />
    </form>
    <div class="card-footer text-center mt-3 bg-transparent border-0">
        <p class="mb-0">还没有账号？ <a href="{% url 'register' %}">立即注册</a></p>
    </div>
</div>
{% endblock %}
